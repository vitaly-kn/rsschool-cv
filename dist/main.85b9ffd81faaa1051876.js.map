{"version":3,"sources":["webpack:///./components/js/Cadencer.js","webpack:///./components/js/geodata_osm.js","webpack:///./components/js/image_unsplash.js","webpack:///./components/js/lang.js","webpack:///./components/js/map_osm.js","webpack:///./components/js/time.js","webpack:///./components/js/ui.js","webpack:///./components/js/weather_osm.js","webpack:///./script.js","webpack:///./components/css/weather-icons.css?de87","webpack:///./style.css?440e","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"names":["Cadencer","callback","cadence","isPaused","timerID","setTimeout","_run","bind","clearTimeout","start","stop","searchLocation","location","api","encodeURI","fetch","then","response","json","data","length","Number","lon","lat","catch","getLocation","coords","language","substring","address","area","keys","i","country","getImage","request","unsplash","createApi","accessKey","search","getPhotos","query","page","perPage","orientation","result","errors","returnImageIndex","getRandomInt","results","returnImage","urls","regular","min","max","Math","ceil","floor","random","lang","units","imperial","wind","metric","searchPlaceholderInitial","searchPlaceholderMicOn","searching","searchFail","hemi","N","E","S","W","unavailable","unknown","MAP_START_ZOOM","MapContainer","container","zoom","view","View","center","fromLonLat","map","Map","target","layers","TileLayer","source","OSM","zoomPanel","document","getElementById","querySelector","style","top","left","contributionPanel","bottom","right","setCenter","setZoom","on","event","toLonLat","coordinate","slice","coordsHDMS","toStringHDMS","parsedCoords","match","latitude","parsedLat","latitudeHemi","longitude","parsedLong","longitudeHemi","getTime","currentTimeZone","maxForecastDays","date","Date","options","weekday","day","month","hour","minute","second","timeZone","now","toLocaleString","replaceAll","nextDays","setDate","getDate","push","appParams","nameUnits","nameDayOfWeek","nameUpcomingTemperature","nameUpcomingWeatherIcon","classTranslatable","idRefresh","idLang","idWallpaper","idArea","idDate","idTemperature","idWeatherIconContainer","idWeatherIcon","idDescription","idFeelsLike","idWind","idHumidity","idSearchText","idSearch","idMic","idMap","idWindUnits","idLatitude","idLongitude","animationRotateInFrames","animationRotateOutFrames","classLanding","classRotateIn","classRotateOut","animationFadeInFrames","animationFadeOutFrames","classFadeIn","classFadeOut","NOTIFICATION_DELAY","staticTranslatableLabels","getElementsByClassName","refreshButton","langSelect","unitsRadioButtons","getElementsByName","areaField","dateField","wallpaperContainer","temperatureField","weatherIconContainer","weatherIconField","descriptionField","feelsLikeField","windField","humidityField","windUnitsField","dayOfWeekFields","upcomingTemperatureFields","upcomingWeatherIconFields","searchButton","micButton","searchTextInput","latField","longField","addEventListener","onWallpaperContainerAnimationEnd","onWeatherIconContainerAnimationEnd","getUnits","value","setUnits","checked","translateStaticLabels","placeholder","label","textContent","id","displayWeather","weather","temperature","setMainWeatherIcon","icon","description","feelsLike","humidity","updateUpcomingWeatherInformation","forecast","classList","remove","add","currentTarget","loop","onUpcomingAnimationEnd","animationName","removeEventListener","displayCoords","displayTime","time","findLocation","displayLocation","displayImage","image","nextImage","backgroundImage","OWM_API","getWeather","timezone","avgTemp","round","daily","temp","current","feels_like","wind_speed","cadencer","ui","window","onWindowLoad","refreshContent","onLanguageChange","radioButton","onUnitsRadioButtonChecked","onSearchTextInputKeypress","onMicButtonClick","onSearchButtonClick","onMapPointSelect","localStorage","getItem","navigator","geolocation","getCurrentPosition","position","initContent","timeout","setItem","keyCode","speechRecognize","newCoords","recognition","webkitSpeechRecognition","onend","onresult","transcript"],"mappings":"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","file":"main.85b9ffd81faaa1051876.js","sourcesContent":["export default class Cadencer {\r\n  constructor(callback, cadence = 1000) {\r\n    this.cadence = cadence;\r\n    this.isPaused = true;\r\n    this.callback = callback;\r\n    this.timerID;\r\n  }\r\n  _run() {\r\n    if (this.isPaused) return;\r\n    this.callback();\r\n    this.timerID = setTimeout(this._run.bind(this), this.cadence);\r\n  }\r\n  start() {\r\n    if (this.isPaused) {\r\n      this.isPaused = false;\r\n      this._run();\r\n    }\r\n  }\r\n  stop() {\r\n    this.isPaused = true;\r\n    clearTimeout(this.timerID);\r\n  }\r\n  toggle() {\r\n    if (this.isPaused) {\r\n      this.start();\r\n      return true;\r\n    } else {\r\n      this.stop();\r\n      return false;\r\n    }\r\n  }\r\n  setCadence(cadence) {\r\n    this.cadence = cadence;\r\n  }\r\n  getCadence() {\r\n    return this.cadence;\r\n  }\r\n}\r\n","export function searchLocation(location) {\r\n  const api = `https://nominatim.openstreetmap.org/search?q=${encodeURI(location)}&format=json&limit=1`;\r\n  return fetch(api)\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (data.length) {\r\n        return [Number(data[0].lon), Number(data[0].lat)];\r\n      } else {\r\n        return false;\r\n      }\r\n    })\r\n    .catch(() => {\r\n      return false;\r\n    });\r\n}\r\n\r\nexport function getLocation(coords, language) {\r\n  const api = `https://nominatim.openstreetmap.org/reverse?lat=${coords[1]}&lon=${coords[0]}&format=json&zoom=10&accept-language=${language.substring(0, 2)}`;\r\n  return fetch(api)\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (data.address) {\r\n        let area = \"\";\r\n        const keys = [\"city\", \"county\", \"state\"];\r\n        for (let i = 0; i < keys.length; i++) {\r\n          if (data.address[keys[i]]) {\r\n            area += `${data.address[keys[i]]}, `;\r\n            break;\r\n          }\r\n        }\r\n        area += data.address.country;\r\n        return area;\r\n      } else {\r\n        return false;\r\n      }\r\n    })\r\n    .catch(() => {\r\n      return false;\r\n    });\r\n}\r\n","import { createApi } from \"unsplash-js\";\r\n\r\nexport function getImage(request) {\r\n  const unsplash = createApi({ accessKey: \"clTdAjXwclkfRbFVJs3L_OF_eZhsu0t75DH7eerWIEM\" });\r\n  return unsplash.search\r\n    .getPhotos({\r\n      query: request,\r\n      page: 1,\r\n      perPage: 10,\r\n      orientation: \"landscape\",\r\n    })\r\n    .then((result) => {\r\n      if (result.errors) {\r\n        return false;\r\n      } else {\r\n        const returnImageIndex = getRandomInt(0, result.response.results.length);\r\n        const returnImage = result.response.results[returnImageIndex]?.urls.regular;\r\n        return returnImage ? returnImage : false;\r\n      }\r\n    });\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n","const lang = {\r\n  \"en-US\": {\r\n    units: {\r\n      imperial: {\r\n        wind: \"mph\",\r\n      },\r\n      metric: {\r\n        wind: \"m/s\",\r\n      },\r\n    },\r\n    searchPlaceholderInitial: \"Search city or ZIP\",\r\n    searchPlaceholderMicOn: \"Speak into the microphone...\",\r\n    searching: \"Searching\",\r\n    searchFail: \"Not found!\",\r\n    hemi: {\r\n      N: \"N\",\r\n      E: \"E\",\r\n      S: \"S\",\r\n      W: \"W\",\r\n    },\r\n    unavailable: \"unavailable\",\r\n    unknown: \"Unknown area\",\r\n    search: \"search\",\r\n    \"feels-like-tag\": \"feels like\",\r\n    \"wind-tag\": \"wind\",\r\n    \"humidity-tag\": \"humidity\",\r\n    \"latitude-tag\": \"Latitude\",\r\n    \"longitude-tag\": \"Longitude\",\r\n  },\r\n  \"ru-RU\": {\r\n    units: {\r\n      imperial: {\r\n        wind: \"миль/ч\",\r\n      },\r\n      metric: {\r\n        wind: \"м/с\",\r\n      },\r\n    },\r\n    searchPlaceholderInitial: \"Найти город или ZIP-код\",\r\n    searchPlaceholderMicOn: \"Говорите в микрофон...\",\r\n    searching: \"Поиск\",\r\n    searchFail: \"Не найдено!\",\r\n    hemi: {\r\n      N: \"с.ш.\",\r\n      E: \"в.д.\",\r\n      S: \"ю.ш.\",\r\n      W: \"з.д.\",\r\n    },\r\n    unavailable: \"недоступно\",\r\n    unknown: \"Неизвестная территория\",\r\n    search: \"Найти\",\r\n    \"feels-like-tag\": \"ощущается как\",\r\n    \"wind-tag\": \"ветер\",\r\n    \"humidity-tag\": \"влажность\",\r\n    \"latitude-tag\": \"Широта\",\r\n    \"longitude-tag\": \"Долгота\",\r\n  },\r\n};\r\n\r\nexport default lang;\r\n","import \"ol/ol.css\";\r\nimport { Map, View } from \"ol\";\r\nimport { fromLonLat, toLonLat } from \"ol/proj\";\r\nimport { toStringHDMS } from \"ol/coordinate\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport OSM from \"ol/source/OSM\";\r\n\r\nconst MAP_START_ZOOM = 10;\r\n\r\nexport default class MapContainer {\r\n  constructor(container, zoom = MAP_START_ZOOM) {\r\n    this.container = container;\r\n\r\n    this.view = new View({\r\n      center: fromLonLat([0, 0]),\r\n      zoom: zoom,\r\n    });\r\n\r\n    this.map = new Map({\r\n      target: this.container,\r\n      layers: [\r\n        new TileLayer({\r\n          source: new OSM(),\r\n        }),\r\n      ],\r\n      view: this.view,\r\n    });\r\n\r\n    let zoomPanel = document.getElementById(this.container).querySelector(\".ol-zoom\");\r\n    zoomPanel.style.top = \"1.5em\";\r\n    zoomPanel.style.left = \"1.5em\";\r\n\r\n    let contributionPanel = document.getElementById(this.container).querySelector(\".ol-attribution\");\r\n    contributionPanel.style.bottom = \"2.5em\";\r\n    contributionPanel.style.left = \"1em\";\r\n    contributionPanel.style.right = \"unset\";\r\n  }\r\n\r\n  setCenter(coords, zoom = MAP_START_ZOOM) {\r\n    this.view.setCenter(fromLonLat(coords));\r\n    this.view.setZoom(zoom);\r\n  }\r\n\r\n  onPointSelect(callback) {\r\n    this.map.on(\"singleclick\", (event) => {\r\n      callback(toLonLat(event.coordinate).slice());\r\n    });\r\n  }\r\n\r\n  static convertToHDMS(coords) {\r\n    const coordsHDMS = toStringHDMS(coords);\r\n    const parsedCoords = coordsHDMS.match(/\\b\\d+(\\u00b0|\\u2032)/g);\r\n    const latitude = `${parsedCoords[0]} ${parsedCoords[1]}`;\r\n    const parsedLat = coordsHDMS.match(/(N|S)/g);\r\n    const latitudeHemi = parsedLat ? parsedLat[0] : \"\";\r\n    const longitude = `${parsedCoords[2]} ${parsedCoords[3]}`;\r\n    const parsedLong = coordsHDMS.match(/(E|W)/g);\r\n    const longitudeHemi = parsedLong ? parsedLong[0] : \"\";\r\n    return { latitude, latitudeHemi, longitude, longitudeHemi };\r\n  }\r\n}\r\n","export default function getTime(language, currentTimeZone, maxForecastDays) {\r\n  const date = new Date();\r\n  const options = {\r\n    weekday: \"short\",\r\n    day: \"numeric\",\r\n    month: \"short\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n    second: \"numeric\",\r\n    timeZone: currentTimeZone,\r\n  };\r\n  let now = date.toLocaleString(language, options).replaceAll(/(,|\\.)/g, \"\");\r\n  let nextDays = [];\r\n  for (let i = 0; i < maxForecastDays; i++) {\r\n    date.setDate(date.getDate() + 1);\r\n    nextDays.push(date.toLocaleString(language, { weekday: \"long\", timeZone: currentTimeZone }));\r\n  }\r\n  return {\r\n    now,\r\n    nextDays,\r\n  };\r\n}\r\n","import lang from \"./lang\";\r\nimport getTime from \"./time\";\r\nimport { searchLocation, getLocation } from \"./geodata_osm\";\r\nimport { currentTimeZone } from \"./weather_osm\";\r\nimport MapContainer from \"./map_osm\";\r\nimport { getImage } from \"./image_unsplash\";\r\n\r\nexport const appParams = {\r\n  nameUnits: \"units\",\r\n  nameDayOfWeek: \"day-of-week\",\r\n  nameUpcomingTemperature: \"upcoming-temperature\",\r\n  nameUpcomingWeatherIcon: \"upcoming-weather-icon\",\r\n  classTranslatable: \"translatable\",\r\n  idRefresh: \"refresh\",\r\n  idLang: \"lang\",\r\n  idWallpaper: \"wallpaper\",\r\n  idArea: \"area\",\r\n  idDate: \"date\",\r\n  idTemperature: \"temperature\",\r\n  idWeatherIconContainer: \"weather-icon-container\",\r\n  idWeatherIcon: \"weather-icon\",\r\n  idDescription: \"description\",\r\n  idFeelsLike: \"feels-like\",\r\n  idWind: \"wind\",\r\n  idHumidity: \"humidity\",\r\n  idSearchText: \"search-text\",\r\n  idSearch: \"search\",\r\n  idMic: \"mic\",\r\n  idMap: \"map\",\r\n  idWindUnits: \"wind-units\",\r\n  idLatitude: \"latitude\",\r\n  idLongitude: \"longitude\",\r\n  animationRotateInFrames: \"rotate-in-frames\",\r\n  animationRotateOutFrames: \"rotate-out-frames\",\r\n  classLanding: \"landing\",\r\n  classRotateIn: \"rotate-in\",\r\n  classRotateOut: \"rotate-out\",\r\n  animationFadeInFrames: \"fade-in-frames\",\r\n  animationFadeOutFrames: \"fade-out-frames\",\r\n  classFadeIn: \"fade-in\",\r\n  classFadeOut: \"fade-out\",\r\n};\r\n\r\nconst NOTIFICATION_DELAY = 2000;\r\n\r\nexport const staticTranslatableLabels = document.getElementsByClassName(appParams.classTranslatable);\r\nexport const refreshButton = document.getElementById(appParams.idRefresh);\r\nexport const langSelect = document.getElementById(appParams.idLang);\r\nexport const unitsRadioButtons = document.getElementsByName(appParams.nameUnits);\r\nexport const areaField = document.getElementById(appParams.idArea);\r\nexport const dateField = document.getElementById(appParams.idDate);\r\nexport const wallpaperContainer = document.getElementById(appParams.idWallpaper);\r\nexport const temperatureField = document.getElementById(appParams.idTemperature);\r\nexport const weatherIconContainer = document.getElementById(appParams.idWeatherIconContainer);\r\nexport const weatherIconField = document.getElementById(appParams.idWeatherIcon);\r\nexport const descriptionField = document.getElementById(appParams.idDescription);\r\nexport const feelsLikeField = document.getElementById(appParams.idFeelsLike);\r\nexport const windField = document.getElementById(appParams.idWind);\r\nexport const humidityField = document.getElementById(appParams.idHumidity);\r\nexport const windUnitsField = document.getElementById(appParams.idWindUnits);\r\nexport const dayOfWeekFields = document.getElementsByName(appParams.nameDayOfWeek);\r\nexport const upcomingTemperatureFields = document.getElementsByName(appParams.nameUpcomingTemperature);\r\nexport const upcomingWeatherIconFields = document.getElementsByName(appParams.nameUpcomingWeatherIcon);\r\nexport const searchButton = document.getElementById(appParams.idSearch);\r\nexport const micButton = document.getElementById(appParams.idMic);\r\nexport const searchTextInput = document.getElementById(appParams.idSearchText);\r\nexport const map = new MapContainer(appParams.idMap);\r\nexport const latField = document.getElementById(appParams.idLatitude);\r\nexport const longField = document.getElementById(appParams.idLongitude);\r\n\r\nexport const maxForecastDays = upcomingTemperatureFields.length;\r\n\r\nwallpaperContainer.addEventListener(\"animationend\", onWallpaperContainerAnimationEnd);\r\nweatherIconContainer.addEventListener(\"animationend\", onWeatherIconContainerAnimationEnd);\r\n\r\nexport function getUnits() {\r\n  return document.querySelector(`input[name=\"${appParams.nameUnits}\"]:checked`).value;\r\n}\r\n\r\nexport function setUnits(value) {\r\n  document.querySelector(`input[name=\"${appParams.nameUnits}\"][value=\"${value}\"]`).checked = true;\r\n}\r\n\r\nexport function translateStaticLabels() {\r\n  searchTextInput.placeholder = lang[langSelect.value].searchPlaceholderInitial;\r\n  for (let label of staticTranslatableLabels) {\r\n    label.textContent = lang[langSelect.value][label.id];\r\n  }\r\n}\r\n\r\nexport function displayWeather({ weather, language, units }) {\r\n  //console.log(weather);\r\n  temperatureField.textContent = weather.temperature;\r\n  setMainWeatherIcon(weather.icon);\r\n  descriptionField.textContent = weather.description;\r\n  feelsLikeField.textContent = weather.feelsLike;\r\n  windField.textContent = weather.wind;\r\n  windUnitsField.textContent = lang[language].units[units].wind;\r\n  humidityField.textContent = weather.humidity;\r\n  updateUpcomingWeatherInformation(weather.forecast);\r\n}\r\n\r\nfunction setMainWeatherIcon(icon) {\r\n  weatherIconField.classList.remove(...weatherIconField.classList);\r\n  if (icon !== \"-\") {\r\n    weatherIconContainer.classList.add(appParams.classLanding);\r\n    weatherIconField.classList.add(\"wi\", `wi-${icon}`);\r\n  }\r\n}\r\n\r\nfunction onWeatherIconContainerAnimationEnd(event) {\r\n  event.currentTarget.classList.remove(appParams.classLanding);\r\n}\r\n\r\nfunction updateUpcomingWeatherInformation(forecast) {\r\n  let i = 0;\r\n  (function loop() {\r\n    if (i < maxForecastDays) {\r\n      upcomingWeatherIconFields[i].classList.add(\"wi\", `wi-${forecast.icon}`, appParams.classRotateIn);\r\n      upcomingTemperatureFields[i].textContent = forecast[i].temperature;\r\n      upcomingWeatherIconFields[i].addEventListener(\"animationend\", function onUpcomingAnimationEnd(event) {\r\n        if (event.animationName === appParams.animationRotateInFrames) {\r\n          event.currentTarget.classList.remove(...event.currentTarget.classList);\r\n          if (forecast.icon !== \"-\") event.currentTarget.classList.add(\"wi\", `wi-${forecast[i].icon}`, appParams.classRotateOut);\r\n        } else {\r\n          event.currentTarget.removeEventListener(\"animationend\", onUpcomingAnimationEnd);\r\n          event.currentTarget.classList.remove(appParams.classRotateOut);\r\n          i++;\r\n          loop();\r\n        }\r\n      });\r\n    }\r\n  })();\r\n}\r\n\r\nexport function displayCoords(coords) {\r\n  const coordsHDMS = MapContainer.convertToHDMS(coords);\r\n  latField.textContent = coordsHDMS.latitude;\r\n  longField.textContent = coordsHDMS.longitude;\r\n  coordsHDMS.latitudeHemi && (latField.textContent += ` ${lang[langSelect.value].hemi[coordsHDMS.latitudeHemi]}`);\r\n  coordsHDMS.longitudeHemi && (longField.textContent += ` ${lang[langSelect.value].hemi[coordsHDMS.longitudeHemi]}`);\r\n}\r\n\r\nexport function displayTime() {\r\n  let time = getTime(langSelect.value, currentTimeZone, maxForecastDays);\r\n  dateField.textContent = time.now;\r\n  for (let i = 0; i < maxForecastDays; i++) {\r\n    dayOfWeekFields[i].textContent = time.nextDays[i];\r\n  }\r\n}\r\n\r\nexport function findLocation(location) {\r\n  searchTextInput.placeholder = `${lang[langSelect.value].searching} \"${location}\"...`;\r\n  searchTextInput.value = \"\";\r\n  return searchLocation(location).then((coords) => {\r\n    if (coords) {\r\n      searchTextInput.placeholder = lang[langSelect.value].searchPlaceholderInitial;\r\n      return coords;\r\n    } else {\r\n      searchTextInput.placeholder = lang[langSelect.value].searchFail;\r\n      setTimeout(() => {\r\n        searchTextInput.placeholder = lang[langSelect.value].searchPlaceholderInitial;\r\n      }, NOTIFICATION_DELAY);\r\n      return false;\r\n    }\r\n  });\r\n}\r\n\r\nexport async function displayLocation(coords) {\r\n  let area = await getLocation(coords, langSelect.value);\r\n  areaField.textContent = area ? area : lang[langSelect.value].unknown;\r\n  displayImage();\r\n}\r\n\r\nexport async function displayImage() {\r\n  let image = await getImage(areaField.textContent);\r\n  if (image) {\r\n    wallpaperContainer.nextImage = `url(${image})`;\r\n    wallpaperContainer.classList.add(appParams.classFadeIn);\r\n  }\r\n}\r\n\r\nfunction onWallpaperContainerAnimationEnd(event) {\r\n  if (event.animationName === appParams.animationFadeInFrames) {\r\n    event.currentTarget.classList.remove(appParams.classFadeIn);\r\n    event.currentTarget.classList.add(appParams.classFadeOut);\r\n    event.currentTarget.style.backgroundImage = event.currentTarget.nextImage;\r\n  } else {\r\n    event.currentTarget.classList.remove(appParams.classFadeOut);\r\n  }\r\n}\r\n","import { maxForecastDays } from \"./ui\";\r\nconst OWM_API = \"46a8d7bc7f3c4adccd8efc07bf1a0431\";\r\n\r\nexport let currentTimeZone = \"UTC\";\r\n\r\nexport function getWeather(coords, language, units) {\r\n  const api = `http://api.openweathermap.org/data/2.5/onecall?lat=${coords[1]}&lon=${coords[0]}&exclude=hourly,minutely&units=${units}&appid=${OWM_API}&lang=${language.substring(\r\n    0,\r\n    2\r\n  )}`;\r\n  return fetch(api)\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      //console.log(data); //weather data\r\n      currentTimeZone = data.timezone;\r\n      let forecast = [];\r\n      for (let i = 0; i < maxForecastDays; i++) {\r\n        const avgTemp = Math.round((data.daily[i].temp.min + data.daily[i].temp.max) / 2);\r\n        forecast.push({ temperature: avgTemp, id: data.daily[i].weather[0].id, icon: data.daily[i].weather[0].icon });\r\n      }\r\n      return {\r\n        weather: {\r\n          temperature: Math.round(data.current.temp),\r\n          id: data.current.weather[0].id,\r\n          icon: data.current.weather[0].icon,\r\n          description: data.current.weather[0].description,\r\n          feelsLike: Math.round(data.current.feels_like),\r\n          wind: data.current.wind_speed,\r\n          humidity: data.current.humidity,\r\n          forecast,\r\n        },\r\n        language,\r\n        units,\r\n      };\r\n    })\r\n    .catch(() => {\r\n      //console.log(`getWeather() catch! - ${err}`);\r\n      let forecast = [];\r\n      for (let i = 0; i < maxForecastDays; i++) {\r\n        forecast.push({ temperature: \"-\", id: \"-\", icon: \"-\" });\r\n      }\r\n      return {\r\n        weather: {\r\n          temperature: \"-\",\r\n          id: \"-\",\r\n          icon: \"-\",\r\n          description: \"-\",\r\n          feelsLike: \"-\",\r\n          wind: \"-\",\r\n          humidity: \"-\",\r\n          forecast,\r\n        },\r\n        language,\r\n        units,\r\n      };\r\n    });\r\n}\r\n","import \"./style.css\";\r\nimport \"./components/css/weather-icons.css\";\r\nimport lang from \"./components/js/lang\";\r\nimport * as ui from \"./components/js/ui\";\r\nimport Cadencer from \"./components/js/Cadencer\";\r\nimport { getWeather } from \"./components/js/weather_osm\";\r\n\r\nlet coords = [0, 51.51]; //London as default\r\nlet cadencer = new Cadencer(ui.displayTime);\r\n\r\nwindow.addEventListener(\"load\", onWindowLoad);\r\nui.refreshButton.addEventListener(\"click\", refreshContent);\r\nui.langSelect.addEventListener(\"change\", onLanguageChange);\r\nui.unitsRadioButtons.forEach((radioButton) => radioButton.addEventListener(\"change\", onUnitsRadioButtonChecked));\r\nui.searchTextInput.addEventListener(\"keypress\", onSearchTextInputKeypress);\r\nui.micButton.addEventListener(\"click\", onMicButtonClick);\r\nui.searchButton.addEventListener(\"click\", onSearchButtonClick);\r\nui.map.onPointSelect(onMapPointSelect);\r\n\r\nfunction onWindowLoad() {\r\n  if (localStorage.getItem(ui.appParams.idLang)) {\r\n    ui.langSelect.value = localStorage.getItem(ui.appParams.idLang);\r\n  }\r\n\r\n  if (localStorage.getItem(ui.appParams.nameUnits)) {\r\n    ui.setUnits(localStorage.getItem(ui.appParams.nameUnits));\r\n  }\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        coords[0] = position.coords.longitude;\r\n        coords[1] = position.coords.latitude;\r\n        initContent();\r\n      },\r\n      (/*error*/) => {\r\n        initContent();\r\n      },\r\n      { timeout: 1000 }\r\n    );\r\n  } else initContent();\r\n}\r\n\r\nfunction onUnitsRadioButtonChecked() {\r\n  localStorage.setItem(ui.appParams.nameUnits, ui.getUnits());\r\n  getWeather(coords, ui.langSelect.value, ui.getUnits()).then((data) => ui.displayWeather(data));\r\n}\r\n\r\nfunction refreshContent() {\r\n  ui.displayCoords(coords);\r\n  getWeather(coords, ui.langSelect.value, ui.getUnits()).then((data) => {\r\n    cadencer.start();\r\n    ui.displayWeather(data);\r\n  });\r\n  ui.displayLocation(coords);\r\n}\r\n\r\nfunction initContent() {\r\n  ui.translateStaticLabels();\r\n  ui.map.setCenter(coords);\r\n  refreshContent();\r\n}\r\n\r\nfunction onLanguageChange() {\r\n  localStorage.setItem(ui.appParams.idLang, ui.langSelect.value);\r\n  ui.translateStaticLabels();\r\n  refreshContent();\r\n}\r\n\r\nfunction onSearchTextInputKeypress(event) {\r\n  if (event.keyCode === 13) {\r\n    ui.searchTextInput.blur();\r\n    ui.searchButton.click();\r\n  }\r\n}\r\n\r\nfunction onMicButtonClick() {\r\n  if (\"webkitSpeechRecognition\" in window) {\r\n    speechRecognize();\r\n  }\r\n}\r\n\r\nfunction onMapPointSelect(newCoords) {\r\n  coords = newCoords;\r\n  refreshContent();\r\n}\r\n\r\nasync function onSearchButtonClick() {\r\n  let newCoords = await ui.findLocation(ui.searchTextInput.value);\r\n  if (newCoords) {\r\n    coords = newCoords;\r\n    ui.map.setCenter(coords);\r\n    refreshContent();\r\n  }\r\n}\r\n\r\nfunction speechRecognize() {\r\n  /*global webkitSpeechRecognition*/\r\n  let recognition = new webkitSpeechRecognition();\r\n  recognition.lang = ui.langSelect.value;\r\n  recognition.start();\r\n  ui.searchTextInput.value = \"\";\r\n  ui.searchTextInput.placeholder = lang[ui.langSelect.value].searchPlaceholderMicOn;\r\n  recognition.onend = function () {\r\n    ui.searchTextInput.placeholder = lang[ui.langSelect.value].searchPlaceholderInitial;\r\n  };\r\n  recognition.onresult = function (event) {\r\n    if (event.results.length > 0) {\r\n      ui.searchTextInput.value = event.results[0][0].transcript;\r\n      ui.searchButton.click();\r\n    }\r\n  };\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = function() {}\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\nvar deferredModules = [\n\t[\"../node_modules/@babel/polyfill/lib/index.js\",\"vendors-node_modules_ol_ol_css-node_modules_babel_polyfill_lib_index_js-node_modules_ol_Map_j-24e6fd\"],\n\t[\"./script.js\",\"vendors-node_modules_ol_ol_css-node_modules_babel_polyfill_lib_index_js-node_modules_ol_Map_j-24e6fd\"]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = function() {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tvar executeModules = data[3];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = function() {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (function() {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\n__webpack_require__.x();\n"],"sourceRoot":""}